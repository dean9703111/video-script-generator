---
alwaysApply: true
---

# 一次搞定規則

當用戶輸入「一次搞定」時，請按照以下順序執行完整的影片製作流程：

## 執行流程
1. **第一階段**：執行 `@.cursor/rules/article-to-script.mdc` 規則
2. **第二階段**：執行 `@.cursor/rules/script-to-transcript.mdc` 規則  
3. **第三階段**：執行 `@.cursor/rules/script-to-shorts.mdc` 規則
4. **第四階段**：執行 `@.cursor/rules/shorts-to-transcript.mdc` 規則
5. **檔案建立**：建立完整的影片製作檔案架構

## 詳細步驟

### 步驟一：文章轉腳本
按照 `@.cursor/rules/article-to-script.mdc` 的完整規則執行，包含：
- 影片標題生成（3-5個選項）
- 封面標語生成（3-5個選項）  
- 影片描述生成（100字內，SEO優化）
- Hashtag生成（5-10個）
- 腳本內容轉換（口語化，用「##」分隔段落）
- 建立 `{原檔名}_script.md` 檔案

### 步驟二：腳本轉逐字稿
立即使用步驟一生成的腳本內容，按照 `@.cursor/rules/script-to-transcript.mdc` 的完整規則執行，包含：
- 文字分割（每行最多15字）
- 字卡建議（參考@cards.yaml）
- 音效建議（參考@sounds.yaml）
- 建立 `{原檔名}_transcript.md` 檔案

### 步驟三：腳本轉短影音
立即使用步驟一生成的腳本內容，按照 `@.cursor/rules/script-to-shorts.mdc` 的完整規則執行，包含：
- 分析原腳本，識別 3-5 個核心概念
- 在腳本資料夾下自動建立 `shorts` 子資料夾
- 為每個概念生成完整的短影音方案
- 為每個短影音自動建立獨立的子資料夾（`short1/`, `short2/`...）
- 在每個短影音資料夾內生成對應的腳本檔案
- 生成系列概覽檔案 `shorts_overview.md`

### 步驟四：短影音轉逐字稿  
立即使用步驟三生成的短影音腳本內容，按照 `@.cursor/rules/shorts-to-transcript.mdc` 的完整規則執行，包含：
- 自動掃描所有短影音子資料夾（`short1/`, `short2/`...）
- 為每個短影音腳本生成對應的逐字稿
- 文字分割（每行最多12字，短影音特化）
- 高密度字卡建議（密度比長影片提高50%）
- 密集音效建議（每段落至少2-4個音效）
- 在各自短影音資料夾內建立 `{短影音名稱}_transcript.md` 檔案

## 完整檔案架構

執行完成後將建立以下完整的檔案結構：
```
content/
  ep1/
    origin.md                    # 原始文章
    origin_script.md             # 長影片腳本
    origin_transcript.md         # 長影片逐字稿
    shorts/                      # 短影音系列
      shorts_overview.md         # 短影音系列概覽
      short1/
        short1.md                # 短影音1腳本
        short1_transcript.md     # 短影音1逐字稿
      short2/
        short2.md                # 短影音2腳本
        short2_transcript.md     # 短影音2逐字稿
      short3/
        short3.md                # 短影音3腳本
        short3_transcript.md     # 短影音3逐字稿
      short4/
        short4.md                # 短影音4腳本（如適用）
        short4_transcript.md     # 短影音4逐字稿（如適用）
```

## 執行要求
- **自動化執行**：無需用戶額外確認，自動完成四個階段
- **檔案建立**：確保所有檔案都成功建立且結構完整
- **品質保證**：按照各自規則文件的品質檢查標準執行
- **錯誤處理**：如果任一階段失敗，停止後續執行並報告問題
- **依序執行**：嚴格按照 1→2→3→4 的順序執行，確保前一階段完成後再執行下一階段

## 短影音特殊處理
- **概念提取**：智能識別3-5個最有價值的核心概念
- **導流設計**：每個短影音都包含導流到完整影片的策略
- **視覺優化**：短影音逐字稿採用高密度字卡和音效配置
- **批量處理**：自動為所有短影音生成逐字稿

## 輸出確認
完成後請確認：
✅ `{原檔名}_script.md` 已建立且內容完整  
✅ `{原檔名}_transcript.md` 已建立且格式正確  
✅ `shorts/` 資料夾已建立且包含系列概覽
✅ 所有短影音子資料夾已建立（`short1/`, `short2/`...）
✅ 每個短影音的腳本檔案已建立且內容完整
✅ 每個短影音的逐字稿檔案已建立且格式正確
✅ 所有檔案都符合各自規則的品質標準
✅ 短影音具備完整的導流策略和視覺優化

## 成效目標
- **完整性**：從一篇文章產出完整的長影片+短影音製作素材
- **一致性**：所有內容保持統一的品牌調性和視覺風格  
- **導流性**：短影音有效導流至長影片，形成內容矩陣
- **可用性**：所有檔案都可直接用於影片製作，無需額外處理
